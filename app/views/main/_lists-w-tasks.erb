<% @subcategories.each do |sub| %>
  <div class="list">
    <details>
      <summary>
        <%= sub.name %>
        <div class="action">
          <%= link_to 'add', new_task_path, data: { turbo_frame: "newTask#{sub.id}" }, class: 'material-symbols-outlined add hover' %>
          <%= link_to 'remove', '#', data: { turbo_frame: "newTask#{sub.id}" }, class: 'material-symbols-outlined remove hover' %>
        </div>
      </summary>
      <div class="items">
        <% sub.tasks.each do |task| %>
          <div class="item">
            <div class="cont <%= 'const-done' if task.done %>">
              <%= check_box_tag 'done', task.id, task.done, id: "task_#{task.id}" %>
              <p><%= task.name %></p>
            </div>
            <div class="options hover">
              <%= link_to "more_horiz", '#', data: { turbo: false }, class: 'material-symbols-outlined smaller-icon'%>
              <div class="options-open">
                <%= link_to 'edit',edit_task_path(task), data: { turbo_frame: "editTask#{task.id}"}, class: 'material-symbols-outlined smaller-icon scale-up'%>
                <%= link_to 'delete',task_path(task), data: { turbo_method: :delete }, class: 'material-symbols-outlined smaller-icon scale-up'%>
              </div>
            </div>
          </div>
          <%= turbo_frame_tag "editTask#{task.id}" do %>
          <% end %>
        <% end %>
        <%= turbo_frame_tag "newTask#{sub.id}" do %>
        <% end %>
      </div>
    </details>
  </div>
<% end %>